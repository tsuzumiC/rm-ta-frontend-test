(this["webpackJsonpta-frontend-test"]=this["webpackJsonpta-frontend-test"]||[]).push([[0],{46:function(e,i,s){},47:function(e,i,s){},48:function(e,i,s){"use strict";s.r(i);var t,r,n=s(0),o=s(3),a=s.n(o),c=s(20),h=s.n(c),d=s(4),l=s(6),u=s(1),p=s(22),v=s(11),f=s.n(v),m=s(21),g=s(9),j=s.n(g),b=s(5);!function(e){e.People="people",e.Films="films",e.Planets="planets",e.Species="species",e.Starships="starships",e.Vehicles="vehicles"}(t||(t={})),function(e){e.false="false",e.true="true",e.loading="loading"}(r||(r={}));var O=function e(i,s,t,r){Object(b.a)(this,e),this.name=void 0,this.url=void 0,this.id=void 0,this.resource=void 0,this.name=i,this.url=s,this.id=t,this.resource=r},_=function e(i){Object(b.a)(this,e),this.name=void 0,this.firstName=void 0,this.lastName=void 0,this.url=void 0,this.id=void 0,this.birth_year=void 0,this.eye_color=void 0,this.films=void 0,this.filmsList=void 0,this.gender=void 0,this.hair_color=void 0,this.height=void 0,this.homeworld=void 0,this.homeworldObj=void 0,this.mass=void 0,this.skin_color=void 0,this.species=void 0,this.speciesList=void 0,this.starships=void 0,this.starshipsList=void 0,this.vehicles=void 0,this.vehiclesList=void 0,this.cardOpen=void 0,this.hasResourceNames=void 0,this.name=i.name,this.firstName=i.name.includes(" ")?i.name.slice(0,i.name.indexOf(" ")):i.name,this.lastName=i.name.includes(" ")?i.name.slice(i.name.indexOf(" ")):"",this.id=i.id,this.url=i.url,this.birth_year=i.birth_year,this.eye_color=i.eye_color,this.films=i.films,this.filmsList=[],this.gender=i.gender,this.hair_color=i.hair_color,this.height=i.height,this.homeworld=i.homeworld,this.homeworldObj={},this.mass=i.mass,this.skin_color=i.skin_color,this.species=i.species,this.speciesList=[],this.starships=i.starships,this.starshipsList=[],this.vehicles=i.vehicles,this.vehiclesList=[],this.cardOpen=!1,this.hasResourceNames=r.false},x=function e(i){Object(b.a)(this,e),this.name=void 0,this.id=void 0,this.url=void 0,this.rotation_period=void 0,this.orbital_period=void 0,this.diameter=void 0,this.climate=void 0,this.gravity=void 0,this.terrain=void 0,this.surface_water=void 0,this.population=void 0,this.residents=void 0,this.residentsList=void 0,this.films=void 0,this.filmsList=void 0,this.cardOpen=void 0,this.hasResourceNames=void 0,this.name=i.name,this.id=i.id,this.url=i.url,this.rotation_period=i.rotation_period,this.orbital_period=i.orbital_period,this.diameter=i.diameter,this.climate=i.climate,this.gravity=i.gravity,this.terrain=i.terrain,this.surface_water=i.surface_water,this.population=i.population,this.residents=i.residents,this.residentsList=[],this.films=i.films,this.filmsList=[],this.cardOpen=!1,this.hasResourceNames=r.false},L=function e(i){Object(b.a)(this,e),this.id=void 0,this.url=void 0,this.title=void 0,this.episode_id=void 0,this.opening_crawl=void 0,this.director=void 0,this.producer=void 0,this.release_date=void 0,this.characters=void 0,this.charactersList=void 0,this.planets=void 0,this.planetsList=void 0,this.species=void 0,this.speciesList=void 0,this.starships=void 0,this.starshipsList=void 0,this.vehicles=void 0,this.vehiclesList=void 0,this.cardOpen=void 0,this.hasResourceNames=void 0,this.id=i.id,this.url=i.url,this.title=i.title,this.episode_id=i.episode_id,this.opening_crawl=i.opening_crawl,this.director=i.director,this.producer=i.producer,this.release_date=i.release_date,this.characters=i.characters,this.charactersList=[],this.planets=i.planets,this.planetsList=[],this.species=i.species,this.speciesList=[],this.starships=i.starships,this.starshipsList=[],this.vehicles=i.vehicles,this.vehiclesList=[],this.cardOpen=!1,this.hasResourceNames=r.false},w=function e(i){Object(b.a)(this,e),this.name=void 0,this.id=void 0,this.url=void 0,this.classification=void 0,this.designation=void 0,this.average_height=void 0,this.average_lifespan=void 0,this.hair_colors=void 0,this.skin_colors=void 0,this.eye_colors=void 0,this.homeworld=void 0,this.homeworldList=void 0,this.language=void 0,this.people=void 0,this.peopleList=void 0,this.films=void 0,this.filmsList=void 0,this.cardOpen=void 0,this.hasResourceNames=void 0,this.name=i.name,this.id=i.id,this.url=i.url,this.classification=i.classification,this.designation=i.designation,this.average_height=i.average_height,this.average_lifespan=i.average_lifespan,this.hair_colors=i.hair_colors,this.skin_colors=i.skin_colors,this.eye_colors=i.eye_colors,this.homeworld=i.homeworld,this.homeworldList={},this.language=i.language,this.people=i.people,this.peopleList=[],this.films=i.films,this.filmsList=[],this.cardOpen=!1,this.hasResourceNames=r.false},y=function e(i){Object(b.a)(this,e),this.name=void 0,this.id=void 0,this.url=void 0,this.model=void 0,this.manufacturer=void 0,this.cost_in_credits=void 0,this.length=void 0,this.max_atmosphering_speed=void 0,this.crew=void 0,this.passengers=void 0,this.cargo_capacity=void 0,this.consumables=void 0,this.hyperdrive_rating=void 0,this.MGLT=void 0,this.starship_class=void 0,this.pilots=void 0,this.pilotsList=void 0,this.films=void 0,this.filmsList=void 0,this.cardOpen=void 0,this.hasResourceNames=void 0,this.name=i.name,this.id=i.id,this.url=i.url,this.model=i.model,this.manufacturer=i.manufacturer,this.cost_in_credits=i.cost_in_credits,this.length=i.length,this.max_atmosphering_speed=i.max_atmosphering_speed,this.crew=i.crew,this.passengers=i.passengers,this.cargo_capacity=i.cargo_capacity,this.consumables=i.consumables,this.hyperdrive_rating=i.hyperdrive_rating,this.MGLT=i.MGLT,this.starship_class=i.starship_class,this.pilots=i.pilots,this.pilotsList=[],this.films=i.films,this.filmsList=[],this.cardOpen=!1,this.hasResourceNames=r.false},N=function e(i){Object(b.a)(this,e),this.name=void 0,this.id=void 0,this.url=void 0,this.model=void 0,this.manufacturer=void 0,this.cost_in_credits=void 0,this.length=void 0,this.max_atmosphering_speed=void 0,this.crew=void 0,this.passengers=void 0,this.cargo_capacity=void 0,this.consumables=void 0,this.vehicle_class=void 0,this.pilots=void 0,this.pilotsList=void 0,this.films=void 0,this.filmsList=void 0,this.cardOpen=void 0,this.hasResourceNames=void 0,this.name=i.name,this.id=i.id,this.url=i.url,this.model=i.model,this.manufacturer=i.manufacturer,this.cost_in_credits=i.cost_in_credits,this.length=i.length,this.max_atmosphering_speed=i.max_atmosphering_speed,this.crew=i.crew,this.passengers=i.passengers,this.cargo_capacity=i.cargo_capacity,this.consumables=i.consumables,this.vehicle_class=i.vehicle_class,this.pilots=i.pilots,this.pilotsList=[],this.films=i.films,this.filmsList=[],this.cardOpen=!1,this.hasResourceNames=r.false},S=/\/[a-z]+\/[0-9]+\//g,R=/[0-9]+/g,I=function(e){return parseInt(e.match(S)[0].match(R)[0])},k="https://swapi.dev/api/";function F(e,i){return P.apply(this,arguments)}function P(){return(P=Object(m.a)(f.a.mark((function e(i,s){var t,n,o,a,c,h,l,u,p,v,m;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!s){e.next=16;break}return e.prev=1,e.next=4,j.a.get("".concat(k).concat(i,"/").concat(s,"/"));case 4:return t=e.sent,(n=t.data).id=I(n.url),n.hasResourceNames=r.false,e.abrupt("return",n);case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:e.next=42;break;case 16:return e.prev=16,e.next=19,j.a.get("".concat(k).concat(i,"/"));case 19:o=e.sent,a=o.data,c=a.results,h=a.next,l=c.length;case 23:if(!(l<a.count-1)){e.next=35;break}if(!h){e.next=32;break}return u=h.slice(0,4)+"s"+h.slice(4),e.next=28,j.a.get(u);case 28:p=e.sent,v=p.data,c=[].concat(Object(d.a)(c),Object(d.a)(v.results)),h=v.next;case 32:l=c.length,e.next=23;break;case 35:for(m=0;m<c.length;m++)c[m].id=I(c[m].url),c[m].hasResourceNames=r.false;return e.abrupt("return",c);case 39:e.prev=39,e.t1=e.catch(16),console.log(e.t1);case 42:case"end":return e.stop()}}),e,null,[[1,11],[16,39]])})))).apply(this,arguments)}s(46);var C=function(e){var i={false:function(){return Object(n.jsx)("div",{children:"Getting details"})},true:function(){return Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{children:"Homeworld: ".concat(e.resource.homeworldObj.name)}),Object(n.jsx)("div",{children:"Species: ".concat(e.resource.speciesList.length>0?e.resource.speciesList[0].name:"Human")}),Object(n.jsxs)("div",{children:[Object(n.jsx)("p",{children:"Films: "}),Object(n.jsx)("ul",{children:e.resource.filmsList.map((function(e){return Object(n.jsx)("li",{children:e.name})}))})]})]})},loading:function(){return Object(n.jsx)("div",{children:"Loading details"})}},s=e.resource.cardOpen&&i[e.resource.hasResourceNames]();return Object(n.jsx)("li",{onClick:function(i){e.updateIsOpen(i,t.People,e.resource.id)},children:Object(n.jsxs)("div",{className:"card",children:[Object(n.jsx)("div",{className:"name",children:e.resource.name}),s]})})},V=function(e){return Object(n.jsx)("button",{type:e.type,name:e.name?e.name:e.id,id:e.id,onClick:e.onClick,disabled:e.disabled,children:e.displayName})},E=function(e){return Object(n.jsxs)("div",{children:[Object(n.jsx)("label",{htmlFor:e.id,children:e.lable}),Object(n.jsx)("input",{id:e.id,name:e.name?e.name:e.id,value:e.value,onChange:e.onChange})]})},T=function(e){var i={undefined:function(){return Object(n.jsx)("p",{children:"Loading list of Star Wars characters from SWapi"})},people:function(){var i;return i=e.searchFor.length>0?e.data.people.map((function(i){if(i.name.includes(e.searchFor))return Object(n.jsx)(C,{resource:i,updateIsOpen:e.updateIsOpen},i.url.match(S)[0])})):e.data.people.map((function(i){return Object(n.jsx)(C,{resource:i,updateIsOpen:e.updateIsOpen},i.url.match(S)[0])})),Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{children:"List of Starwars characters (from SWapi)"}),Object(n.jsx)("ul",{className:"card-list",children:i})]})},planets:function(){return Object(n.jsx)("p",{children:"FPlanets not implemented yet."})},films:function(){return Object(n.jsx)("p",{children:"Films not implemented yet."})},species:function(){return Object(n.jsx)("p",{children:"Species not implemented yet."})},starships:function(){return Object(n.jsx)("p",{children:"Starships not implemented yet."})},vehicles:function(){return Object(n.jsx)("p",{children:"Vehicles not implemented yet."})}};return Object(n.jsxs)("div",{children:[Object(n.jsx)(E,{type:"text",id:"searchField",lable:"Sort by name",value:e.searchValue,onChange:e.onSearchChange}),Object(n.jsx)(V,{type:"button",id:"searchButton",onClick:e.searchClicked,displayName:"Search"}),Object(n.jsx)(V,{type:"button",id:"resetButton",onClick:e.resetClicked,displayName:"Reset"}),i[e.data.resourceToShow]()]})},G=(s(47),function(){var e={people:[],planets:[],films:[],species:[],starships:[],vehicles:[],resourceToShow:t.People,getList:[],searchInput:"",searchFor:""},i=Object(o.useState)(e),s=Object(p.a)(i,2),a=s[0],c=s[1],h=a.people,v=a.planets,f=a.films,m=a.species,g=a.starships,j=a.vehicles,b=a.getList,S=a.searchInput,R=a.searchFor;Object(o.useEffect)((function(){F(t.People).then((function(e){var i=[];e.forEach((function(e){i.push(new _(e))})),c(Object(u.a)(Object(u.a)({},a),{},{people:i}))}))}),[]),Object(o.useEffect)((function(){b.length>0&&C()}),[b]);var k={people:function(){return h},planets:function(){return v},films:function(){return f},species:function(){return m},starships:function(){return g},vehicles:function(){return j}},P=function(e,i,s){var n=[];return{undefined:function(){},people:function(){var r=h[i],o=I(r.homeworld);if(void 0===v.find((function(e){return e.id===o})))n.push({resource:t.Planets,id:o,done:!1,target:{resource:e,id:s}});else{var a=v.find((function(e){return e.id===o}));r.homeworldObj=new O(a.name,a.url,o,t.Planets)}r.films.forEach((function(i){var o=I(i);if(void 0===f.find((function(e){return e.id===o})))n.push({resource:t.Films,id:o,done:!1,target:{resource:e,id:s}});else{var a=f.find((function(e){return e.id===o}));r.filmsList.push(new O(a.title,a.url,o,t.Films))}})),r.species.forEach((function(i){var o=I(i);if(void 0===m.find((function(e){return e.id===o})))n.push({resource:t.Species,id:o,done:!1,target:{resource:e,id:s}});else{var a=m.find((function(e){return e.id===o}));r.speciesList.push(new O(a.name,a.url,o,t.Species))}})),r.starships.forEach((function(i){var o=I(i);if(void 0===g.find((function(e){return e.id===o})))n.push({resource:t.Starships,id:o,done:!1,target:{resource:e,id:s}});else{var a=g.find((function(e){return e.id===o}));r.starshipsList.push(new O(a.name,a.url,o,t.Starships))}})),r.vehicles.forEach((function(i){var o=I(i);if(void 0===j.find((function(e){return e.id===o})))n.push({resource:t.Vehicles,id:o,done:!1,target:{resource:e,id:s}});else{var a=j.find((function(e){return e.id===o}));r.vehiclesList.push(new O(a.name,a.url,o,t.Vehicles))}}))},planets:function(){},films:function(){},species:function(){},starships:function(){},vehicles:function(){}}[e](),0===n.length?{hasResourceNames:r.true}:(n.push({resource:e,id:s,done:!0}),{hasResourceNames:r.loading,getList:[].concat(n)})},C=function(){var e=Object(d.a)(h),i=Object(d.a)(v),s=Object(d.a)(f),n=Object(d.a)(m),o=Object(d.a)(g),l=Object(d.a)(j),p=Object(d.a)(b),S={people:function(){return e},planets:function(){return i},films:function(){return s},species:function(){return n},starships:function(){return o},vehicles:function(){return l}},R=function(){p.shift(),c(Object(u.a)(Object(u.a)({},a),{},{people:e,planets:i,films:s,species:n,starships:o,vehicles:l,getList:p}))},k={undefined:function(){},people:function(){if(p[0].done){var o=e.findIndex((function(e){return e.id===p[0].id}));e[o].hasResourceNames=r.true,R()}else F(t.People,p[0].id).then((function(r){var o,a,c,h,d=new _(r),l=S[p[0].target.resource]().findIndex((function(e){var i;return e.id===(null===(i=p[0].target)||void 0===i?void 0:i.id)})),u=new O(d.name,d.url,I(d.url),t.People);(null===(o=p[0].target)||void 0===o?void 0:o.resource)===t.Films?s[l].charactersList.push(u):(null===(a=p[0].target)||void 0===a?void 0:a.resource)===(t.Starships||t.Vehicles)?S[p[0].target.resource]()[l].pilotsList.push(u):(null===(c=p[0].target)||void 0===c?void 0:c.resource)===t.Species?n[l].peopleList.push(u):(null===(h=p[0].target)||void 0===h?void 0:h.resource)===t.Planets&&i[l].residentsList.push(u),e.push(d),p.shift(),k[p[0].resource]()}))},planets:function(){if(p[0].done){var e=i.findIndex((function(e){return e.id===p[0].id}));i[e].hasResourceNames=r.true,R()}else F(t.Planets,p[0].id).then((function(e){var r,n,o=new x(e),a=S[p[0].target.resource]().findIndex((function(e){var i;return e.id===(null===(i=p[0].target)||void 0===i?void 0:i.id)}));(null===(r=p[0].target)||void 0===r?void 0:r.resource)===(t.People||t.Species)?S[p[0].target.resource]()[a].homeworldObj=new O(o.name,o.url,I(o.url),t.Planets):(null===(n=p[0].target)||void 0===n?void 0:n.resource)===t.Films&&s[a].planetsList.push(new O(o.name,o.url,I(o.url),t.Planets)),i.push(o),p.shift(),k[p[0].resource]()}))},films:function(){if(p[0].done){var e=s.findIndex((function(e){return e.id===p[0].id}));s[e].hasResourceNames=r.true,R()}else F(t.Films,p[0].id).then((function(e){var i,r=new L(e),n=S[p[0].target.resource]().findIndex((function(e){var i;return e.id===(null===(i=p[0].target)||void 0===i?void 0:i.id)}));(null===(i=p[0].target)||void 0===i?void 0:i.resource)!==t.Films&&S[p[0].target.resource]()[n].filmsList.push(new O(r.title,r.url,I(r.url),t.Films)),s.push(r),p.shift(),k[p[0].resource]()}))},species:function(){if(p[0].done){var e=n.findIndex((function(e){return e.id===p[0].id}));n[e].hasResourceNames=r.true,R()}else F(t.Species,p[0].id).then((function(e){var i,s=new w(e),r=S[p[0].target.resource]().findIndex((function(e){var i;return e.id===(null===(i=p[0].target)||void 0===i?void 0:i.id)}));(null===(i=p[0].target)||void 0===i?void 0:i.resource)===(t.People||t.Films)&&S[p[0].target.resource]()[r].speciesList.push(new O(s.name,s.url,I(s.url),t.Species)),n.push(s),p.shift(),k[p[0].resource]()}))},starships:function(){if(p[0].done){var e=o.findIndex((function(e){return e.id===p[0].id}));o[e].hasResourceNames=r.true,R()}else F(t.Starships,p[0].id).then((function(e){var i,s=new y(e),r=S[p[0].target.resource]().findIndex((function(e){var i;return e.id===(null===(i=p[0].target)||void 0===i?void 0:i.id)}));(null===(i=p[0].target)||void 0===i?void 0:i.resource)===(t.People||t.Films)&&S[p[0].target.resource]()[r].starshipsList.push(new O(s.name,s.url,I(s.url),t.Starships)),o.push(s),p.shift(),k[p[0].resource]()}))},vehicles:function(){if(p[0].done){var e=l.findIndex((function(e){return e.id===p[0].id}));l[e].hasResourceNames=r.true,R()}else F(t.Vehicles,p[0].id).then((function(e){var i,s=new N(e),r=S[p[0].target.resource]().findIndex((function(e){var i;return e.id===(null===(i=p[0].target)||void 0===i?void 0:i.id)}));(null===(i=p[0].target)||void 0===i?void 0:i.resource)===(t.People||t.Films)&&S[p[0].target.resource]()[r].vehiclesList.push(new O(s.name,s.url,I(s.url),t.Vehicles)),l.push(s),p.shift(),k[p[0].resource]()}))}};k[p[0].resource]()};return Object(n.jsx)("div",{children:Object(n.jsx)(T,{data:a,updateIsOpen:function(e,i,s){var t=k[i](),n=t.findIndex((function(e){return e.id===s}));if(t[n].cardOpen=!t[n].cardOpen,t[n].hasResourceNames===r.false){var o,h=P(i,n,s);if(t[n].hasResourceNames=h.hasResourceNames,void 0===h.getList)c(Object(u.a)(Object(u.a)({},a),{},Object(l.a)({},i,t)));else c(Object(u.a)(Object(u.a)({},a),{},(o={},Object(l.a)(o,i,t),Object(l.a)(o,"getList",h.getList),o)))}else c(Object(u.a)(Object(u.a)({},a),{},Object(l.a)({},i,t)))},searchValue:S,onSearchChange:function(e){c(Object(u.a)(Object(u.a)({},a),{},{searchInput:e.target.value}))},searchFor:R,searchClicked:function(){S.length>0&&c(Object(u.a)(Object(u.a)({},a),{},{searchFor:S}))},resetClicked:function(){c(Object(u.a)(Object(u.a)({},a),{},{searchInput:"",searchFor:""}))}})})});h.a.render(Object(n.jsx)(a.a.StrictMode,{children:Object(n.jsx)(G,{})}),document.getElementById("root"))}},[[48,1,2]]]);
//# sourceMappingURL=main.2a3cc6d3.chunk.js.map